(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))r(_);new MutationObserver(_=>{for(const o of _)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(_){const o={};return _.integrity&&(o.integrity=_.integrity),_.referrerPolicy&&(o.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?o.credentials="include":_.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(_){if(_.ep)return;_.ep=!0;const o=n(_);fetch(_.href,o)}})();var Z,g,Ee,U,fe,He,De,Pe,ie,ne,re,B={},Ne=[],Ge=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ee=Array.isArray;function N(e,t){for(var n in t)e[n]=t[n];return e}function le(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Je(e,t,n){var r,_,o,l={};for(o in t)o=="key"?r=t[o]:o=="ref"?_=t[o]:l[o]=t[o];if(arguments.length>2&&(l.children=arguments.length>3?Z.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)l[o]==null&&(l[o]=e.defaultProps[o]);return V(e,l,r,_,null)}function V(e,t,n,r,_){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:_??++Ee,__i:-1,__u:0};return _==null&&g.vnode!=null&&g.vnode(o),o}function Q(e){return e.children}function K(e,t){this.props=e,this.context=t}function W(e,t){if(t==null)return e.__?W(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?W(e):null}function Ue(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ue(e)}}function de(e){(!e.__d&&(e.__d=!0)&&U.push(e)&&!G.__r++||fe!=g.debounceRendering)&&((fe=g.debounceRendering)||He)(G)}function G(){for(var e,t,n,r,_,o,l,c=1;U.length;)U.length>c&&U.sort(De),e=U.shift(),c=U.length,e.__d&&(n=void 0,_=(r=(t=e).__v).__e,o=[],l=[],t.__P&&((n=N({},r)).__v=r.__v+1,g.vnode&&g.vnode(n),ce(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[_]:null,o,_??W(r),!!(32&r.__u),l),n.__v=r.__v,n.__.__k[n.__i]=n,Me(o,n,l),n.__e!=_&&Ue(n)));G.__r=0}function Le(e,t,n,r,_,o,l,c,s,a,d){var i,h,u,b,S,k,p=r&&r.__k||Ne,y=t.length;for(s=Ze(n,t,p,s,y),i=0;i<y;i++)(u=n.__k[i])!=null&&(h=u.__i==-1?B:p[u.__i]||B,u.__i=i,k=ce(e,u,h,_,o,l,c,s,a,d),b=u.__e,u.ref&&h.ref!=u.ref&&(h.ref&&ae(h.ref,null,u),d.push(u.ref,u.__c||b,u)),S==null&&b!=null&&(S=b),4&u.__u||h.__k===u.__k?s=Ie(u,s,e):typeof u.type=="function"&&k!==void 0?s=k:b&&(s=b.nextSibling),u.__u&=-7);return n.__e=S,s}function Ze(e,t,n,r,_){var o,l,c,s,a,d=n.length,i=d,h=0;for(e.__k=new Array(_),o=0;o<_;o++)(l=t[o])!=null&&typeof l!="boolean"&&typeof l!="function"?(s=o+h,(l=e.__k[o]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?V(null,l,null,null,null):ee(l)?V(Q,{children:l},null,null,null):l.constructor==null&&l.__b>0?V(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=e,l.__b=e.__b+1,c=null,(a=l.__i=et(l,n,s,i))!=-1&&(i--,(c=n[a])&&(c.__u|=2)),c==null||c.__v==null?(a==-1&&(_>d?h--:_<d&&h++),typeof l.type!="function"&&(l.__u|=4)):a!=s&&(a==s-1?h--:a==s+1?h++:(a>s?h--:h++,l.__u|=4))):e.__k[o]=null;if(i)for(o=0;o<d;o++)(c=n[o])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=W(c)),Re(c,c));return r}function Ie(e,t,n){var r,_;if(typeof e.type=="function"){for(r=e.__k,_=0;r&&_<r.length;_++)r[_]&&(r[_].__=e,t=Ie(r[_],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=W(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function et(e,t,n,r){var _,o,l=e.key,c=e.type,s=t[n];if(s===null&&e.key==null||s&&l==s.key&&c==s.type&&(2&s.__u)==0)return n;if(r>(s!=null&&(2&s.__u)==0?1:0))for(_=n-1,o=n+1;_>=0||o<t.length;){if(_>=0){if((s=t[_])&&(2&s.__u)==0&&l==s.key&&c==s.type)return _;_--}if(o<t.length){if((s=t[o])&&(2&s.__u)==0&&l==s.key&&c==s.type)return o;o++}}return-1}function he(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Ge.test(t)?n:n+"px"}function Y(e,t,n,r,_){var o;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||he(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||he(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(Pe,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=ie,e.addEventListener(t,o?re:ne,o)):e.removeEventListener(t,o?re:ne,o);else{if(_=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function pe(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ie++;else if(t.t<n.u)return;return n(g.event?g.event(t):t)}}}function ce(e,t,n,r,_,o,l,c,s,a){var d,i,h,u,b,S,k,p,y,L,D,R,v,C,$,F,H,x=t.type;if(t.constructor!=null)return null;128&n.__u&&(s=!!(32&n.__u),o=[c=t.__e=n.__e]),(d=g.__b)&&d(t);e:if(typeof x=="function")try{if(p=t.props,y="prototype"in x&&x.prototype.render,L=(d=x.contextType)&&r[d.__c],D=d?L?L.props.value:d.__:r,n.__c?k=(i=t.__c=n.__c).__=i.__E:(y?t.__c=i=new x(p,D):(t.__c=i=new K(p,D),i.constructor=x,i.render=nt),L&&L.sub(i),i.props=p,i.state||(i.state={}),i.context=D,i.__n=r,h=i.__d=!0,i.__h=[],i._sb=[]),y&&i.__s==null&&(i.__s=i.state),y&&x.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=N({},i.__s)),N(i.__s,x.getDerivedStateFromProps(p,i.__s))),u=i.props,b=i.state,i.__v=t,h)y&&x.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),y&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(y&&x.getDerivedStateFromProps==null&&p!==u&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(p,D),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(p,i.__s,D)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(i.props=p,i.state=i.__s,i.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(T){T&&(T.__=t)}),R=0;R<i._sb.length;R++)i.__h.push(i._sb[R]);i._sb=[],i.__h.length&&l.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(p,i.__s,D),y&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(u,b,S)})}if(i.context=D,i.props=p,i.__P=e,i.__e=!1,v=g.__r,C=0,y){for(i.state=i.__s,i.__d=!1,v&&v(t),d=i.render(i.props,i.state,i.context),$=0;$<i._sb.length;$++)i.__h.push(i._sb[$]);i._sb=[]}else do i.__d=!1,v&&v(t),d=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++C<25);i.state=i.__s,i.getChildContext!=null&&(r=N(N({},r),i.getChildContext())),y&&!h&&i.getSnapshotBeforeUpdate!=null&&(S=i.getSnapshotBeforeUpdate(u,b)),F=d,d!=null&&d.type===Q&&d.key==null&&(F=We(d.props.children)),c=Le(e,ee(F)?F:[F],t,n,r,_,o,l,c,s,a),i.base=t.__e,t.__u&=-161,i.__h.length&&l.push(i),k&&(i.__E=i.__=null)}catch(T){if(t.__v=null,s||o!=null)if(T.then){for(t.__u|=s?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else for(H=o.length;H--;)le(o[H]);else t.__e=n.__e,t.__k=n.__k;g.__e(T,t,n)}else o==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=tt(n.__e,t,n,r,_,o,l,s,a);return(d=g.diffed)&&d(t),128&t.__u?void 0:c}function Me(e,t,n){for(var r=0;r<n.length;r++)ae(n[r],n[++r],n[++r]);g.__c&&g.__c(t,e),e.some(function(_){try{e=_.__h,_.__h=[],e.some(function(o){o.call(_)})}catch(o){g.__e(o,_.__v)}})}function We(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:ee(e)?e.map(We):N({},e)}function tt(e,t,n,r,_,o,l,c,s){var a,d,i,h,u,b,S,k=n.props,p=t.props,y=t.type;if(y=="svg"?_="http://www.w3.org/2000/svg":y=="math"?_="http://www.w3.org/1998/Math/MathML":_||(_="http://www.w3.org/1999/xhtml"),o!=null){for(a=0;a<o.length;a++)if((u=o[a])&&"setAttribute"in u==!!y&&(y?u.localName==y:u.nodeType==3)){e=u,o[a]=null;break}}if(e==null){if(y==null)return document.createTextNode(p);e=document.createElementNS(_,y,p.is&&p),c&&(g.__m&&g.__m(t,o),c=!1),o=null}if(y==null)k===p||c&&e.data==p||(e.data=p);else{if(o=o&&Z.call(e.childNodes),k=n.props||B,!c&&o!=null)for(k={},a=0;a<e.attributes.length;a++)k[(u=e.attributes[a]).name]=u.value;for(a in k)if(u=k[a],a!="children"){if(a=="dangerouslySetInnerHTML")i=u;else if(!(a in p)){if(a=="value"&&"defaultValue"in p||a=="checked"&&"defaultChecked"in p)continue;Y(e,a,null,u,_)}}for(a in p)u=p[a],a=="children"?h=u:a=="dangerouslySetInnerHTML"?d=u:a=="value"?b=u:a=="checked"?S=u:c&&typeof u!="function"||k[a]===u||Y(e,a,u,k[a],_);if(d)c||i&&(d.__html==i.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(i&&(e.innerHTML=""),Le(t.type=="template"?e.content:e,ee(h)?h:[h],t,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":_,o,l,o?o[0]:n.__k&&W(n,0),c,s),o!=null)for(a=o.length;a--;)le(o[a]);c||(a="value",y=="progress"&&b==null?e.removeAttribute("value"):b!=null&&(b!==e[a]||y=="progress"&&!b||y=="option"&&b!=k[a])&&Y(e,a,b,k[a],_),a="checked",S!=null&&S!=e[a]&&Y(e,a,S,k[a],_))}return e}function ae(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(_){g.__e(_,n)}}function Re(e,t,n){var r,_;if(g.unmount&&g.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||ae(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){g.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(_=0;_<r.length;_++)r[_]&&Re(r[_],t,n||typeof e.type!="function");n||le(e.__e),e.__c=e.__=e.__e=void 0}function nt(e,t,n){return this.constructor(e,n)}function rt(e,t,n){var r,_,o,l;t==document&&(t=document.documentElement),g.__&&g.__(e,t),_=(r=!1)?null:t.__k,o=[],l=[],ce(t,e=t.__k=Je(Q,null,[e]),_||B,B,t.namespaceURI,_?null:t.firstChild?Z.call(t.childNodes):null,o,_?_.__e:t.firstChild,r,l),Me(o,e,l)}Z=Ne.slice,g={__e:function(e,t,n,r){for(var _,o,l;t=t.__;)if((_=t.__c)&&!_.__)try{if((o=_.constructor)&&o.getDerivedStateFromError!=null&&(_.setState(o.getDerivedStateFromError(e)),l=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(e,r||{}),l=_.__d),l)return _.__E=_}catch(c){e=c}throw e}},Ee=0,K.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=N({},this.state),typeof e=="function"&&(e=e(N({},n),this.props)),e&&N(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),de(this))},K.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),de(this))},K.prototype.render=Q,U=[],He=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,De=function(e,t){return e.__v.__b-t.__v.__b},G.__r=0,Pe=/(PointerCapture)$|Capture$/i,ie=0,ne=pe(!1),re=pe(!0);var _t=0;function f(e,t,n,r,_,o){t||(t={});var l,c,s=t;if("ref"in s)for(c in s={},t)c=="ref"?l=t[c]:s[c]=t[c];var a={type:e,props:s,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--_t,__i:-1,__u:0,__source:_,__self:o};if(typeof e=="function"&&(l=e.defaultProps))for(c in l)s[c]===void 0&&(s[c]=l[c]);return g.vnode&&g.vnode(a),a}var j,w,te,me,J=0,qe=[],A=g,ye=A.__b,ge=A.__r,ve=A.diffed,be=A.__c,we=A.unmount,ke=A.__;function se(e,t){A.__h&&A.__h(w,e,J||t),J=0;var n=w.__H||(w.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function E(e){return J=1,ot(Be,e)}function ot(e,t,n){var r=se(j++,2);if(r.t=e,!r.__c&&(r.__=[Be(void 0,t),function(c){var s=r.__N?r.__N[0]:r.__[0],a=r.t(s,c);s!==a&&(r.__N=[a,r.__[1]],r.__c.setState({}))}],r.__c=w,!w.__f)){var _=function(c,s,a){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(h){return!!h.__c});if(d.every(function(h){return!h.__N}))return!o||o.call(this,c,s,a);var i=r.__c.props!==c;return d.forEach(function(h){if(h.__N){var u=h.__[0];h.__=h.__N,h.__N=void 0,u!==h.__[0]&&(i=!0)}}),o&&o.call(this,c,s,a)||i};w.__f=!0;var o=w.shouldComponentUpdate,l=w.componentWillUpdate;w.componentWillUpdate=function(c,s,a){if(this.__e){var d=o;o=void 0,_(c,s,a),o=d}l&&l.call(this,c,s,a)},w.shouldComponentUpdate=_}return r.__N||r.__}function Oe(e,t){var n=se(j++,3);!A.__s&&ze(n.__H,t)&&(n.__=e,n.u=t,w.__H.__h.push(n))}function it(e){return J=5,lt(function(){return{current:e}},[])}function lt(e,t){var n=se(j++,7);return ze(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ct(){for(var e;e=qe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(X),e.__H.__h.forEach(_e),e.__H.__h=[]}catch(t){e.__H.__h=[],A.__e(t,e.__v)}}A.__b=function(e){w=null,ye&&ye(e)},A.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ke&&ke(e,t)},A.__r=function(e){ge&&ge(e),j=0;var t=(w=e.__c).__H;t&&(te===w?(t.__h=[],w.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(X),t.__h.forEach(_e),t.__h=[],j=0)),te=w},A.diffed=function(e){ve&&ve(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(qe.push(t)!==1&&me===A.requestAnimationFrame||((me=A.requestAnimationFrame)||at)(ct)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),te=w=null},A.__c=function(e,t){t.some(function(n){try{n.__h.forEach(X),n.__h=n.__h.filter(function(r){return!r.__||_e(r)})}catch(r){t.some(function(_){_.__h&&(_.__h=[])}),t=[],A.__e(r,n.__v)}}),be&&be(e,t)},A.unmount=function(e){we&&we(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{X(r)}catch(_){t=_}}),n.__H=void 0,t&&A.__e(t,n.__v))};var xe=typeof requestAnimationFrame=="function";function at(e){var t,n=function(){clearTimeout(r),xe&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);xe&&(t=requestAnimationFrame(n))}function X(e){var t=w,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),w=t}function _e(e){var t=w;e.__c=e.__(),w=t}function ze(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Be(e,t){return typeof t=="function"?t(e):t}let m;function je(e){const t=m.__externref_table_alloc();return m.__wbindgen_export_2.set(t,e),t}function st(e,t){try{return e.apply(this,t)}catch(n){const r=je(n);m.__wbindgen_exn_store(r)}}let q=null;function ue(){return(q===null||q.byteLength===0)&&(q=new Uint8Array(m.memory.buffer)),q}function Ae(e,t){return e=e>>>0,ue().subarray(e/1,e/1+t)}let O=null;function Qe(){return(O===null||O.byteLength===0)&&(O=new Float32Array(m.memory.buffer)),O}function ut(e,t){return e=e>>>0,Qe().subarray(e/4,e/4+t)}let z=null;function ft(){return(z===null||z.byteLength===0)&&(z=new Int8Array(m.memory.buffer)),z}function dt(e,t){return e=e>>>0,ft().subarray(e/1,e/1+t)}const Ye=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Ye.decode();function oe(e,t){return e=e>>>0,Ye.decode(ue().subarray(e,e+t))}let M=0;function Ce(e,t){const n=t(e.length*1,1)>>>0;return ue().set(e,n/1),M=e.length,n}function Se(e,t){const n=t(e.length*4,4)>>>0;return Qe().set(e,n/4),M=e.length,n}function Fe(e){const t=m.__wbindgen_export_2.get(e);return m.__externref_table_dealloc(e),t}function ht(e){return e==null}const $e=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>m.__wbg_yumepdq_free(e>>>0,1));class Ve{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,$e.unregister(this),t}free(){const t=this.__destroy_into_raw();m.__wbg_yumepdq_free(t,0)}constructor(){const t=m.yumepdq_new();return this.__wbg_ptr=t>>>0,$e.register(this,this.__wbg_ptr,this),this}get kernel_ident(){let t,n;try{const r=m.yumepdq_kernel_ident(this.__wbg_ptr);return t=r[0],n=r[1],oe(r[0],r[1])}finally{m.__wbindgen_free(t,n,1)}}cvt_rgba8_to_luma8f(t,n){const r=Ce(t,m.__wbindgen_malloc),_=M;var o=Se(n,m.__wbindgen_malloc),l=M;const c=m.yumepdq_cvt_rgba8_to_luma8f(this.__wbg_ptr,r,_,o,l,n);if(c[2])throw Fe(c[1]);return c[0]!==0}hash_luma8(t,n,r,_){const o=Se(t,m.__wbindgen_malloc),l=M;var c=Ce(n,m.__wbindgen_malloc),s=M;const a=m.yumepdq_hash_luma8(this.__wbg_ptr,o,l,c,s,n,r,ht(_)?0:je(_));if(a[2])throw Fe(a[1]);return a[0]}dispose(){const t=this.__destroy_into_raw();m.yumepdq_dispose(t)}}async function pt(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function mt(){const e={};return e.wbg={},e.wbg.__wbg_call_b8adc8b1d0a0d8eb=function(){return st(function(t,n,r,_,o){return t.call(n,r,_,o)},arguments)},e.wbg.__wbindgen_copy_to_typed_array=function(t,n,r){new Uint8Array(r.buffer,r.byteOffset,r.byteLength).set(Ae(t,n))},e.wbg.__wbindgen_float32_array_new=function(t,n){var r=ut(t,n).slice();return m.__wbindgen_free(t,n*4,4),r},e.wbg.__wbindgen_init_externref_table=function(){const t=m.__wbindgen_export_2,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)},e.wbg.__wbindgen_int8_array_new=function(t,n){var r=dt(t,n).slice();return m.__wbindgen_free(t,n*1,1),r},e.wbg.__wbindgen_number_new=function(t){return t},e.wbg.__wbindgen_string_new=function(t,n){return oe(t,n)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(oe(t,n))},e.wbg.__wbindgen_uint8_array_new=function(t,n){var r=Ae(t,n).slice();return m.__wbindgen_free(t,n*1,1),r},e}function yt(e,t){return m=e.exports,Ke.__wbindgen_wasm_module=t,O=null,z=null,q=null,m.__wbindgen_start(),m}async function Ke(e){if(m!==void 0)return m;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL(""+new URL("yume_pdq_bg-2qYeXgy-.wasm",import.meta.url).href,import.meta.url));const t=mt();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await pt(await e,t);return yt(n,r)}function gt(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function vt(e){return Array.from(e).map(t=>t.toString(2).padStart(8,"0")).join("")}function bt(e){return btoa(String.fromCharCode(...e))}function Te(e){let t=e[0],n=e[1],r=e[2],_=e[3];return`[[${t}, ${n}], [${r}, ${_}]]`}function wt(){const[e,t]=E(new Ve),n=it(null),[r,_]=E(!1),[o,l]=E(new Float32Array(512*512)),[c,s]=E(new Uint8Array(32)),[a,d]=E([]),[i,h]=E(0),[u,b]=E(null),[S,k]=E(0),[p,y]=E(null);return Oe(()=>{if(n.current&&!r){const v=n.current.getContext("2d");v&&(v.fillStyle="#FEDFE1",v.fillRect(0,0,n.current.width,n.current.height),_(!0))}},[]),f("div",{className:"canvas-container",children:[f("canvas",{ref:n,width:512,height:512}),f("input",{type:"file",accept:"image/*",onChange:v=>{var $;const C=($=v.target.files)==null?void 0:$[0];if(C){const F=new FileReader;F.onload=H=>{var T;const x=new Image;x.src=(T=H.target)==null?void 0:T.result,x.onload=()=>{const P=n.current;if(!P){console.warn("Canvas not initialized");return}const I=P.getContext("2d");I&&(I.fillStyle="black",I.fillRect(0,0,P.width,P.height),I.drawImage(x,0,0,x.width,x.height,0,0,P.width,P.height))}},F.readAsDataURL(C)}}}),f("button",{onClick:()=>{if(!n.current){console.warn("Canvas not initialized");return}const v=n.current.getContext("2d");if(!v){console.warn("Context not initialized");return}const C=v.getImageData(0,0,n.current.width,n.current.height,{colorSpace:"srgb"}),$=performance.now();e.cvt_rgba8_to_luma8f(new Uint8Array(C.data),o);const F=performance.now();h(F-$);const H=performance.now();let x=[];e.hash_luma8(o,c,1,(P,I,Xe)=>(x.push([P,I,Xe]),!0));const T=performance.now();k(T-H),d(x)},children:"Hash"}),f("button",{onClick:()=>{const v=performance.now();if(!n.current){console.warn("Canvas not initialized");return}const C=n.current.getContext("2d");if(!C){console.warn("Context not initialized");return}const $=C.getImageData(0,0,n.current.width,n.current.height,{colorSpace:"srgb"});for(let H=0;H<100;H++)e.cvt_rgba8_to_luma8f(new Uint8Array($.data),o),e.hash_luma8(o,c,1,(x,T,P)=>!0);const F=performance.now();y((F-v)/100)},children:p?`${(p*1e3).toFixed(3)} us`:"Benchmark"}),f("div",{children:[f("p",{children:["Kernel: ",e.kernel_ident]}),f("p",{children:["Conversion time (may be inaccurate): ",i," ms"]}),f("p",{children:["Hash time (may be inaccurate): ",S," ms"]}),f("table",{children:[f("thead",{children:f("tr",{children:[f("th",{children:"Dihedral"}),f("th",{children:"Quality"}),f("th",{children:"Base64"}),f("th",{children:"Hex"})]})}),f("tbody",{children:a.map(v=>f("tr",{children:[f("td",{className:"chop",children:Te(v[1])}),f("td",{className:"chop",children:v[0]}),f("td",{className:"chop",children:bt(v[2])}),f("td",{className:"chop",children:gt(v[2])})]}))})]}),f("p",{children:"Binary: "}),f("select",{onChange:v=>b(parseInt(v.target.value)||null),children:[f("option",{value:"",onSelect:()=>b(null),children:"Select one transformation"}),a.map((v,C)=>f("option",{value:C,selected:C===u,children:Te(v[1])},C))]}),f("p",{className:"chop",children:u!==null?vt(a[u][2]):""})]})]})}function kt(){const[e,t]=E(null),[n,r]=E(null);return Oe(()=>{Ke().then(()=>{t(new Ve)}).catch(_=>{r(_.message)})},[]),n?f("div",{children:[f("h1",{children:"Fatal Error"}),f("p",{children:n})]}):e?f(Q,{children:f("div",{children:[f("h1",{children:"YumePDQ WASM demo"}),f(wt,{})]})}):f("div",{children:f("h1",{children:"Initializing..."})})}rt(f(kt,{}),document.getElementById("app"));
