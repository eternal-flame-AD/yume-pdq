(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))r(_);new MutationObserver(_=>{for(const o of _)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(_){const o={};return _.integrity&&(o.integrity=_.integrity),_.referrerPolicy&&(o.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?o.credentials="include":_.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(_){if(_.ep)return;_.ep=!0;const o=n(_);fetch(_.href,o)}})();var J,g,Fe,U,se,De,Ee,Pe,_e,ee,te,z={},Te=[],Ve=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,X=Array.isArray;function N(e,t){for(var n in t)e[n]=t[n];return e}function oe(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ke(e,t,n){var r,_,o,l={};for(o in t)o=="key"?r=t[o]:o=="ref"?_=t[o]:l[o]=t[o];if(arguments.length>2&&(l.children=arguments.length>3?J.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)l[o]==null&&(l[o]=e.defaultProps[o]);return Q(e,l,r,_,null)}function Q(e,t,n,r,_){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:_??++Fe,__i:-1,__u:0};return _==null&&g.vnode!=null&&g.vnode(o),o}function B(e){return e.children}function Y(e,t){this.props=e,this.context=t}function I(e,t){if(t==null)return e.__?I(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?I(e):null}function He(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return He(e)}}function ue(e){(!e.__d&&(e.__d=!0)&&U.push(e)&&!K.__r++||se!=g.debounceRendering)&&((se=g.debounceRendering)||De)(K)}function K(){for(var e,t,n,r,_,o,l,a=1;U.length;)U.length>a&&U.sort(Ee),e=U.shift(),a=U.length,e.__d&&(n=void 0,_=(r=(t=e).__v).__e,o=[],l=[],t.__P&&((n=N({},r)).__v=r.__v+1,g.vnode&&g.vnode(n),ie(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[_]:null,o,_??I(r),!!(32&r.__u),l),n.__v=r.__v,n.__.__k[n.__i]=n,Le(o,n,l),n.__e!=_&&He(n)));K.__r=0}function Ne(e,t,n,r,_,o,l,a,s,c,d){var i,f,u,w,$,k,m=r&&r.__k||Te,y=t.length;for(s=Ge(n,t,m,s,y),i=0;i<y;i++)(u=n.__k[i])!=null&&(f=u.__i==-1?z:m[u.__i]||z,u.__i=i,k=ie(e,u,f,_,o,l,a,s,c,d),w=u.__e,u.ref&&f.ref!=u.ref&&(f.ref&&le(f.ref,null,u),d.push(u.ref,u.__c||w,u)),$==null&&w!=null&&($=w),4&u.__u||f.__k===u.__k?s=Ue(u,s,e):typeof u.type=="function"&&k!==void 0?s=k:w&&(s=w.nextSibling),u.__u&=-7);return n.__e=$,s}function Ge(e,t,n,r,_){var o,l,a,s,c,d=n.length,i=d,f=0;for(e.__k=new Array(_),o=0;o<_;o++)(l=t[o])!=null&&typeof l!="boolean"&&typeof l!="function"?(s=o+f,(l=e.__k[o]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?Q(null,l,null,null,null):X(l)?Q(B,{children:l},null,null,null):l.constructor==null&&l.__b>0?Q(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=e,l.__b=e.__b+1,a=null,(c=l.__i=Je(l,n,s,i))!=-1&&(i--,(a=n[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(_>d?f--:_<d&&f++),typeof l.type!="function"&&(l.__u|=4)):c!=s&&(c==s-1?f--:c==s+1?f++:(c>s?f--:f++,l.__u|=4))):e.__k[o]=null;if(i)for(o=0;o<d;o++)(a=n[o])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=I(a)),Me(a,a));return r}function Ue(e,t,n){var r,_;if(typeof e.type=="function"){for(r=e.__k,_=0;r&&_<r.length;_++)r[_]&&(r[_].__=e,t=Ue(r[_],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=I(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Je(e,t,n,r){var _,o,l=e.key,a=e.type,s=t[n];if(s===null&&e.key==null||s&&l==s.key&&a==s.type&&(2&s.__u)==0)return n;if(r>(s!=null&&(2&s.__u)==0?1:0))for(_=n-1,o=n+1;_>=0||o<t.length;){if(_>=0){if((s=t[_])&&(2&s.__u)==0&&l==s.key&&a==s.type)return _;_--}if(o<t.length){if((s=t[o])&&(2&s.__u)==0&&l==s.key&&a==s.type)return o;o++}}return-1}function fe(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Ve.test(t)?n:n+"px"}function j(e,t,n,r,_){var o;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||fe(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||fe(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(Pe,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=_e,e.addEventListener(t,o?te:ee,o)):e.removeEventListener(t,o?te:ee,o);else{if(_=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function de(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=_e++;else if(t.t<n.u)return;return n(g.event?g.event(t):t)}}}function ie(e,t,n,r,_,o,l,a,s,c){var d,i,f,u,w,$,k,m,y,b,x,F,D,T,C,P,E,S=t.type;if(t.constructor!=null)return null;128&n.__u&&(s=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=g.__b)&&d(t);e:if(typeof S=="function")try{if(m=t.props,y="prototype"in S&&S.prototype.render,b=(d=S.contextType)&&r[d.__c],x=d?b?b.props.value:d.__:r,n.__c?k=(i=t.__c=n.__c).__=i.__E:(y?t.__c=i=new S(m,x):(t.__c=i=new Y(m,x),i.constructor=S,i.render=Ze),b&&b.sub(i),i.props=m,i.state||(i.state={}),i.context=x,i.__n=r,f=i.__d=!0,i.__h=[],i._sb=[]),y&&i.__s==null&&(i.__s=i.state),y&&S.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=N({},i.__s)),N(i.__s,S.getDerivedStateFromProps(m,i.__s))),u=i.props,w=i.state,i.__v=t,f)y&&S.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),y&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(y&&S.getDerivedStateFromProps==null&&m!==u&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(m,x),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(m,i.__s,x)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(i.props=m,i.state=i.__s,i.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(M){M&&(M.__=t)}),F=0;F<i._sb.length;F++)i.__h.push(i._sb[F]);i._sb=[],i.__h.length&&l.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(m,i.__s,x),y&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(u,w,$)})}if(i.context=x,i.props=m,i.__P=e,i.__e=!1,D=g.__r,T=0,y){for(i.state=i.__s,i.__d=!1,D&&D(t),d=i.render(i.props,i.state,i.context),C=0;C<i._sb.length;C++)i.__h.push(i._sb[C]);i._sb=[]}else do i.__d=!1,D&&D(t),d=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++T<25);i.state=i.__s,i.getChildContext!=null&&(r=N(N({},r),i.getChildContext())),y&&!f&&i.getSnapshotBeforeUpdate!=null&&($=i.getSnapshotBeforeUpdate(u,w)),P=d,d!=null&&d.type===B&&d.key==null&&(P=Ie(d.props.children)),a=Ne(e,X(P)?P:[P],t,n,r,_,o,l,a,s,c),i.base=t.__e,t.__u&=-161,i.__h.length&&l.push(i),k&&(i.__E=i.__=null)}catch(M){if(t.__v=null,s||o!=null)if(M.then){for(t.__u|=s?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,t.__e=a}else for(E=o.length;E--;)oe(o[E]);else t.__e=n.__e,t.__k=n.__k;g.__e(M,t,n)}else o==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=Xe(n.__e,t,n,r,_,o,l,s,c);return(d=g.diffed)&&d(t),128&t.__u?void 0:a}function Le(e,t,n){for(var r=0;r<n.length;r++)le(n[r],n[++r],n[++r]);g.__c&&g.__c(t,e),e.some(function(_){try{e=_.__h,_.__h=[],e.some(function(o){o.call(_)})}catch(o){g.__e(o,_.__v)}})}function Ie(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:X(e)?e.map(Ie):N({},e)}function Xe(e,t,n,r,_,o,l,a,s){var c,d,i,f,u,w,$,k=n.props,m=t.props,y=t.type;if(y=="svg"?_="http://www.w3.org/2000/svg":y=="math"?_="http://www.w3.org/1998/Math/MathML":_||(_="http://www.w3.org/1999/xhtml"),o!=null){for(c=0;c<o.length;c++)if((u=o[c])&&"setAttribute"in u==!!y&&(y?u.localName==y:u.nodeType==3)){e=u,o[c]=null;break}}if(e==null){if(y==null)return document.createTextNode(m);e=document.createElementNS(_,y,m.is&&m),a&&(g.__m&&g.__m(t,o),a=!1),o=null}if(y==null)k===m||a&&e.data==m||(e.data=m);else{if(o=o&&J.call(e.childNodes),k=n.props||z,!a&&o!=null)for(k={},c=0;c<e.attributes.length;c++)k[(u=e.attributes[c]).name]=u.value;for(c in k)if(u=k[c],c!="children"){if(c=="dangerouslySetInnerHTML")i=u;else if(!(c in m)){if(c=="value"&&"defaultValue"in m||c=="checked"&&"defaultChecked"in m)continue;j(e,c,null,u,_)}}for(c in m)u=m[c],c=="children"?f=u:c=="dangerouslySetInnerHTML"?d=u:c=="value"?w=u:c=="checked"?$=u:a&&typeof u!="function"||k[c]===u||j(e,c,u,k[c],_);if(d)a||i&&(d.__html==i.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(i&&(e.innerHTML=""),Ne(t.type=="template"?e.content:e,X(f)?f:[f],t,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":_,o,l,o?o[0]:n.__k&&I(n,0),a,s),o!=null)for(c=o.length;c--;)oe(o[c]);a||(c="value",y=="progress"&&w==null?e.removeAttribute("value"):w!=null&&(w!==e[c]||y=="progress"&&!w||y=="option"&&w!=k[c])&&j(e,c,w,k[c],_),c="checked",$!=null&&$!=e[c]&&j(e,c,$,k[c],_))}return e}function le(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(_){g.__e(_,n)}}function Me(e,t,n){var r,_;if(g.unmount&&g.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||le(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){g.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(_=0;_<r.length;_++)r[_]&&Me(r[_],t,n||typeof e.type!="function");n||oe(e.__e),e.__c=e.__=e.__e=void 0}function Ze(e,t,n){return this.constructor(e,n)}function et(e,t,n){var r,_,o,l;t==document&&(t=document.documentElement),g.__&&g.__(e,t),_=(r=!1)?null:t.__k,o=[],l=[],ie(t,e=t.__k=Ke(B,null,[e]),_||z,z,t.namespaceURI,_?null:t.firstChild?J.call(t.childNodes):null,o,_?_.__e:t.firstChild,r,l),Le(o,e,l)}J=Te.slice,g={__e:function(e,t,n,r){for(var _,o,l;t=t.__;)if((_=t.__c)&&!_.__)try{if((o=_.constructor)&&o.getDerivedStateFromError!=null&&(_.setState(o.getDerivedStateFromError(e)),l=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(e,r||{}),l=_.__d),l)return _.__E=_}catch(a){e=a}throw e}},Fe=0,Y.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=N({},this.state),typeof e=="function"&&(e=e(N({},n),this.props)),e&&N(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ue(this))},Y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ue(this))},Y.prototype.render=B,U=[],De=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ee=function(e,t){return e.__v.__b-t.__v.__b},K.__r=0,Pe=/(PointerCapture)$|Capture$/i,_e=0,ee=de(!1),te=de(!0);var tt=0;function h(e,t,n,r,_,o){t||(t={});var l,a,s=t;if("ref"in s)for(a in s={},t)a=="ref"?l=t[a]:s[a]=t[a];var c={type:e,props:s,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--tt,__i:-1,__u:0,__source:_,__self:o};if(typeof e=="function"&&(l=e.defaultProps))for(a in l)s[a]===void 0&&(s[a]=l[a]);return g.vnode&&g.vnode(c),c}var O,v,Z,he,G=0,We=[],A=g,pe=A.__b,me=A.__r,ye=A.diffed,ge=A.__c,be=A.unmount,ve=A.__;function ce(e,t){A.__h&&A.__h(v,e,G||t),G=0;var n=v.__H||(v.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function H(e){return G=1,nt(ze,e)}function nt(e,t,n){var r=ce(O++,2);if(r.t=e,!r.__c&&(r.__=[ze(void 0,t),function(a){var s=r.__N?r.__N[0]:r.__[0],c=r.t(s,a);s!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=v,!v.__f)){var _=function(a,s,c){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,a,s,c);var i=r.__c.props!==a;return d.forEach(function(f){if(f.__N){var u=f.__[0];f.__=f.__N,f.__N=void 0,u!==f.__[0]&&(i=!0)}}),o&&o.call(this,a,s,c)||i};v.__f=!0;var o=v.shouldComponentUpdate,l=v.componentWillUpdate;v.componentWillUpdate=function(a,s,c){if(this.__e){var d=o;o=void 0,_(a,s,c),o=d}l&&l.call(this,a,s,c)},v.shouldComponentUpdate=_}return r.__N||r.__}function Re(e,t){var n=ce(O++,3);!A.__s&&qe(n.__H,t)&&(n.__=e,n.u=t,v.__H.__h.push(n))}function rt(e){return G=5,_t(function(){return{current:e}},[])}function _t(e,t){var n=ce(O++,7);return qe(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ot(){for(var e;e=We.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(V),e.__H.__h.forEach(ne),e.__H.__h=[]}catch(t){e.__H.__h=[],A.__e(t,e.__v)}}A.__b=function(e){v=null,pe&&pe(e)},A.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ve&&ve(e,t)},A.__r=function(e){me&&me(e),O=0;var t=(v=e.__c).__H;t&&(Z===v?(t.__h=[],v.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(V),t.__h.forEach(ne),t.__h=[],O=0)),Z=v},A.diffed=function(e){ye&&ye(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(We.push(t)!==1&&he===A.requestAnimationFrame||((he=A.requestAnimationFrame)||it)(ot)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Z=v=null},A.__c=function(e,t){t.some(function(n){try{n.__h.forEach(V),n.__h=n.__h.filter(function(r){return!r.__||ne(r)})}catch(r){t.some(function(_){_.__h&&(_.__h=[])}),t=[],A.__e(r,n.__v)}}),ge&&ge(e,t)},A.unmount=function(e){be&&be(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{V(r)}catch(_){t=_}}),n.__H=void 0,t&&A.__e(t,n.__v))};var we=typeof requestAnimationFrame=="function";function it(e){var t,n=function(){clearTimeout(r),we&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);we&&(t=requestAnimationFrame(n))}function V(e){var t=v,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),v=t}function ne(e){var t=v;e.__c=e.__(),v=t}function qe(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function ze(e,t){return typeof t=="function"?t(e):t}let p;function Oe(e){const t=p.__externref_table_alloc();return p.__wbindgen_export_2.set(t,e),t}function lt(e,t){try{return e.apply(this,t)}catch(n){const r=Oe(n);p.__wbindgen_exn_store(r)}}let W=null;function ae(){return(W===null||W.byteLength===0)&&(W=new Uint8Array(p.memory.buffer)),W}function ke(e,t){return e=e>>>0,ae().subarray(e/1,e/1+t)}let R=null;function Be(){return(R===null||R.byteLength===0)&&(R=new Float32Array(p.memory.buffer)),R}function ct(e,t){return e=e>>>0,Be().subarray(e/4,e/4+t)}let q=null;function at(){return(q===null||q.byteLength===0)&&(q=new Int8Array(p.memory.buffer)),q}function st(e,t){return e=e>>>0,at().subarray(e/1,e/1+t)}const je=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&je.decode();function re(e,t){return e=e>>>0,je.decode(ae().subarray(e,e+t))}let L=0;function xe(e,t){const n=t(e.length*1,1)>>>0;return ae().set(e,n/1),L=e.length,n}function Ae(e,t){const n=t(e.length*4,4)>>>0;return Be().set(e,n/4),L=e.length,n}function Se(e){const t=p.__wbindgen_export_2.get(e);return p.__externref_table_dealloc(e),t}function ut(e){return e==null}const Ce=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>p.__wbg_yumepdq_free(e>>>0,1));class Qe{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ce.unregister(this),t}free(){const t=this.__destroy_into_raw();p.__wbg_yumepdq_free(t,0)}constructor(){const t=p.yumepdq_new();return this.__wbg_ptr=t>>>0,Ce.register(this,this.__wbg_ptr,this),this}get kernel_ident(){let t,n;try{const r=p.yumepdq_kernel_ident(this.__wbg_ptr);return t=r[0],n=r[1],re(r[0],r[1])}finally{p.__wbindgen_free(t,n,1)}}cvt_rgba8_to_luma8f(t,n){const r=xe(t,p.__wbindgen_malloc),_=L;var o=Ae(n,p.__wbindgen_malloc),l=L;const a=p.yumepdq_cvt_rgba8_to_luma8f(this.__wbg_ptr,r,_,o,l,n);if(a[2])throw Se(a[1]);return a[0]!==0}hash_luma8(t,n,r,_){const o=Ae(t,p.__wbindgen_malloc),l=L;var a=xe(n,p.__wbindgen_malloc),s=L;const c=p.yumepdq_hash_luma8(this.__wbg_ptr,o,l,a,s,n,r,ut(_)?0:Oe(_));if(c[2])throw Se(c[1]);return c[0]}dispose(){const t=this.__destroy_into_raw();p.yumepdq_dispose(t)}}async function ft(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function dt(){const e={};return e.wbg={},e.wbg.__wbg_call_b8adc8b1d0a0d8eb=function(){return lt(function(t,n,r,_,o){return t.call(n,r,_,o)},arguments)},e.wbg.__wbindgen_copy_to_typed_array=function(t,n,r){new Uint8Array(r.buffer,r.byteOffset,r.byteLength).set(ke(t,n))},e.wbg.__wbindgen_float32_array_new=function(t,n){var r=ct(t,n).slice();return p.__wbindgen_free(t,n*4,4),r},e.wbg.__wbindgen_init_externref_table=function(){const t=p.__wbindgen_export_2,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)},e.wbg.__wbindgen_int8_array_new=function(t,n){var r=st(t,n).slice();return p.__wbindgen_free(t,n*1,1),r},e.wbg.__wbindgen_number_new=function(t){return t},e.wbg.__wbindgen_string_new=function(t,n){return re(t,n)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(re(t,n))},e.wbg.__wbindgen_uint8_array_new=function(t,n){var r=ke(t,n).slice();return p.__wbindgen_free(t,n*1,1),r},e}function ht(e,t){return p=e.exports,Ye.__wbindgen_wasm_module=t,R=null,q=null,W=null,p.__wbindgen_start(),p}async function Ye(e){if(p!==void 0)return p;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL(""+new URL("yume_pdq_bg-DisaBbwC.wasm",import.meta.url).href,import.meta.url));const t=dt();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await ft(await e,t);return ht(n,r)}function pt(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function mt(e){return Array.from(e).map(t=>t.toString(2).padStart(8,"0")).join("")}function yt(e){return btoa(String.fromCharCode(...e))}function $e(e){let t=e[0],n=e[1],r=e[2],_=e[3];return`[[${t}, ${n}], [${r}, ${_}]]`}function gt(){const[e,t]=H(new Qe),n=rt(null),[r,_]=H(!1),[o,l]=H(new Float32Array(512*512)),[a,s]=H(new Uint8Array(32)),[c,d]=H([]),[i,f]=H(null),[u,w]=H(null);Re(()=>{if(n.current&&!r){const b=n.current.getContext("2d");b&&(b.fillStyle="#FEDFE1",b.fillRect(0,0,n.current.width,n.current.height),_(!0))}},[]);const $=()=>{if(!n.current){console.warn("Canvas not initialized");return}const b=n.current.getContext("2d");if(!b){console.warn("Context not initialized");return}const x=b.getImageData(0,0,n.current.width,n.current.height,{colorSpace:"srgb"});e.cvt_rgba8_to_luma8f(new Uint8Array(x.data),o);let F=[];e.hash_luma8(o,a,1,(D,T,C)=>(console.log(T),F.push([D,[...T],C]),!0)),d(F)},k=()=>{const b=performance.now();if(!n.current){console.warn("Canvas not initialized");return}const x=n.current.getContext("2d");if(!x){console.warn("Context not initialized");return}const F=x.getImageData(0,0,n.current.width,n.current.height,{colorSpace:"srgb"});let D=[];for(let C=0;C<100;C++)e.cvt_rgba8_to_luma8f(new Uint8Array(F.data),o),e.hash_luma8(o,a,1,(P,E,S)=>(D.push([P,[...E],S]),!0));const T=performance.now();w((T-b)/100)},m=b=>{var F;const x=(F=b.target.files)==null?void 0:F[0];if(x){const D=new FileReader;D.onload=T=>{var P;const C=new Image;C.src=(P=T.target)==null?void 0:P.result,C.onload=()=>{const E=n.current;if(!E){console.warn("Canvas not initialized");return}const S=E.getContext("2d");S&&(S.fillStyle="black",S.fillRect(0,0,E.width,E.height),S.drawImage(C,0,0,C.width,C.height,0,0,E.width,E.height))}},D.readAsDataURL(x)}},y=c.length>0&&c[0][0]<.1;return h("div",{className:"canvas-container",children:[h("canvas",{ref:n,width:512,height:512}),h("input",{type:"file",accept:"image/*",onChange:m}),h("button",{onClick:$,children:"Hash"}),h("button",{onClick:k,children:u?`${(u*1e3).toFixed(3)} us`:"Benchmark"}),h("div",{children:[h("p",{children:["Kernel: ",e.kernel_ident]}),y&&h("p",{children:"If quality is unexpectedly low, it may be your browser randomized the canvas extract, please temporarily disable tracking protection and try again."}),h("table",{children:[h("thead",{children:h("tr",{children:[h("th",{children:"Dihedral"}),h("th",{children:"Quality"}),h("th",{children:"Base64"}),h("th",{children:"Hex"})]})}),h("tbody",{children:c.map(b=>h("tr",{children:[h("td",{className:"chop",children:$e(b[1])}),h("td",{className:"chop",children:b[0]}),h("td",{className:"chop",children:yt(b[2])}),h("td",{className:"chop",children:pt(b[2])})]}))})]}),h("p",{children:"Binary: "}),h("select",{onChange:b=>f(parseInt(b.target.value)||null),children:[h("option",{value:"",onSelect:()=>f(null),children:"Select one transformation"}),c.map((b,x)=>h("option",{value:x,selected:x===i,children:$e(b[1])},x))]}),h("p",{className:"chop",children:i!==null?mt(c[i][2]):""})]})]})}function bt(){const[e,t]=H(null),[n,r]=H(null);return Re(()=>{Ye().then(()=>{t(new Qe)}).catch(_=>{r(_.message)})},[]),n?h("div",{children:[h("h1",{children:"Fatal Error"}),h("p",{children:n})]}):e?h(B,{children:h("div",{children:[h("h1",{children:"YumePDQ WASM demo"}),h(gt,{})]})}):h("div",{children:h("h1",{children:"Initializing..."})})}et(h(bt,{}),document.getElementById("app"));
